<header class="header">
    <div class="container header-content">
        <div class="logo" routerLink="/">
            <span class="logo-icon">❤️</span>
            <span class="logo-text">ConectaVoluntário</span>
        </div>

        <!-- Desktop Navigation -->
        <nav class="nav-links">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Início</a>
            <a routerLink="/opportunities" routerLinkActive="active">Oportunidades</a>
            <a routerLink="/organizations" routerLinkActive="active">Organizações</a>
            @if (authService.isNGO() || (authService.currentUser()?.username === 'admin')) {
            <a routerLink="/ngo" routerLinkActive="active" class="create-project-link">Painel</a>
            }
            @if (authService.currentUser() && !authService.isNGO() && authService.currentUser()?.username !== 'admin') {
            <a routerLink="/profile" routerLinkActive="active" class="profile-link">Perfil</a>
            }
        </nav>

        <!-- Mobile Menu Button -->
        <button mat-icon-button class="mobile-menu-btn" (click)="toggleMobileMenu()">
            <mat-icon>{{ mobileMenuOpen ? 'close' : 'menu' }}</mat-icon>
        </button>

        <div class="auth-buttons">
            @if (authService.currentUser(); as user) {
            <div class="user-menu">
                <app-notifications></app-notifications>
                <span class="user-greeting">Olá, {{ user.name }}</span>
                <button mat-stroked-button color="warn" (click)="authService.logout()">
                    Sair
                </button>
            </div>
            } @else {
            <button mat-button routerLink="/login" class="btn-login">Entrar</button>
            <button mat-flat-button color="primary" routerLink="/register" class="btn-register">Cadastrar</button>
            }
        </div>
    </div>
</header>

<!-- Mobile Navigation Drawer -->
<mat-drawer-container class="mobile-drawer-container" autosize>
    <mat-drawer #drawer mode="over" position="end" [opened]="mobileMenuOpen" (closed)="closeMobileMenu()">
        <nav class="mobile-nav">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeMobileMenu()">
                <mat-icon>home</mat-icon>
                Início
            </a>
            <a routerLink="/opportunities" routerLinkActive="active" (click)="closeMobileMenu()">
                <mat-icon>volunteer_activism</mat-icon>
                Oportunidades
            </a>
            <a routerLink="/organizations" routerLinkActive="active" (click)="closeMobileMenu()">
                <mat-icon>business</mat-icon>
                Organizações
            </a>
            @if (authService.isNGO() || (authService.currentUser()?.username === 'admin')) {
            <a routerLink="/ngo" routerLinkActive="active" (click)="closeMobileMenu()">
                <mat-icon>dashboard</mat-icon>
                Painel
            </a>
            }
            @if (authService.currentUser() && !authService.isNGO() && authService.currentUser()?.username !== 'admin') {
            <a routerLink="/profile" routerLinkActive="active" (click)="closeMobileMenu()">
                <mat-icon>person</mat-icon>
                Perfil
            </a>
            }
        </nav>
    </mat-drawer>
</mat-drawer-container>